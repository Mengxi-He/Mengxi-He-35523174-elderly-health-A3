<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessibility Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .test-section {
            border: 1px solid #ddd;
            margin: 20px 0;
            padding: 20px;
            border-radius: 5px;
        }
        
        .pass {
            color: #28a745;
            font-weight: bold;
        }
        
        .fail {
            color: #dc3545;
            font-weight: bold;
        }
        
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 3px;
        }
        
        .test-result.pass {
            background-color: #d4edda;
        }
        
        .test-result.fail {
            background-color: #f8d7da;
        }
        
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background-color: #0056b3;
        }
        
        button:focus {
            outline: 3px solid #ffc107;
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <h1>WCAG 2.1 AA Accessibility Compliance Test</h1>
    
    <div class="test-section">
        <h2>Quick Accessibility Tests</h2>
        <button onclick="runAllTests()">Run All Tests</button>
        <button onclick="testKeyboardNavigation()">Test Keyboard Navigation</button>
        <button onclick="testScreenReader()">Test Screen Reader Compatibility</button>
        <button onclick="testColorContrast()">Test Color Contrast</button>
        
        <div id="test-results"></div>
    </div>
    
    <div class="test-section">
        <h2>Manual Testing Checklist</h2>
        <div id="manual-checklist">
            <h3>Keyboard Navigation:</h3>
            <ul>
                <li><input type="checkbox" id="tab-nav"> <label for="tab-nav">All interactive elements are reachable via Tab key</label></li>
                <li><input type="checkbox" id="enter-space"> <label for="enter-space">Buttons work with Enter and Space keys</label></li>
                <li><input type="checkbox" id="focus-visible"> <label for="focus-visible">Focus indicators are clearly visible</label></li>
                <li><input type="checkbox" id="no-focus-trap"> <label for="no-focus-trap">No unexpected focus traps</label></li>
            </ul>
            
            <h3>Screen Reader Compatibility:</h3>
            <ul>
                <li><input type="checkbox" id="alt-text"> <label for="alt-text">All images have appropriate alt text</label></li>
                <li><input type="checkbox" id="form-labels"> <label for="form-labels">All form inputs have labels</label></li>
                <li><input type="checkbox" id="headings"> <label for="headings">Proper heading hierarchy (h1, h2, h3...)</label></li>
                <li><input type="checkbox" id="landmarks"> <label for="landmarks">Page uses semantic landmarks (nav, main, etc.)</label></li>
                <li><input type="checkbox" id="live-regions"> <label for="live-regions">Dynamic content uses aria-live regions</label></li>
            </ul>
            
            <h3>Visual Design:</h3>
            <ul>
                <li><input type="checkbox" id="color-contrast"> <label for="color-contrast">Text has sufficient color contrast (4.5:1 for normal text)</label></li>
                <li><input type="checkbox" id="color-only"> <label for="color-only">Information not conveyed by color alone</label></li>
                <li><input type="checkbox" id="text-resize"> <label for="text-resize">Text can be resized to 200% without loss of functionality</label></li>
                <li><input type="checkbox" id="touch-targets"> <label for="touch-targets">Touch targets are at least 44x44 pixels</label></li>
            </ul>
        </div>
    </div>
    
    <div class="test-section">
        <h2>Accessibility Tools</h2>
        <p>Use these tools for comprehensive testing:</p>
        <ul>
            <li><strong>axe-core:</strong> Automated accessibility testing</li>
            <li><strong>WAVE:</strong> Web Accessibility Evaluation Tool</li>
            <li><strong>Lighthouse:</strong> Built into Chrome DevTools</li>
            <li><strong>Screen Readers:</strong> NVDA (Windows), JAWS (Windows), VoiceOver (Mac)</li>
            <li><strong>Keyboard Testing:</strong> Unplug your mouse and navigate using only Tab, Enter, Space, and Arrow keys</li>
        </ul>
        
        <h3>Quick Test Links:</h3>
        <ul>
            <li><a href="https://www.accessibilitychecker.org/" target="_blank">Online Accessibility Checker</a></li>
            <li><a href="https://webaim.org/resources/contrastchecker/" target="_blank">Color Contrast Checker</a></li>
            <li><a href="https://wave.webaim.org/" target="_blank">WAVE Web Accessibility Evaluator</a></li>
        </ul>
    </div>

    <script>
        function runAllTests() {
            const results = document.getElementById('test-results');
            results.innerHTML = '<h3>Test Results:</h3>';
            
            // Test 1: Check for proper HTML structure
            const hasMain = document.querySelector('main');
            addTestResult(results, 'Main landmark present', hasMain, 'Page should have a <main> element');
            
            // Test 2: Check for skip links
            const hasSkipLink = document.querySelector('.skip-link');
            addTestResult(results, 'Skip link present', hasSkipLink, 'Page should have a skip to content link');
            
            // Test 3: Check for proper heading hierarchy
            const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
            const hasH1 = document.querySelector('h1');
            addTestResult(results, 'Proper heading structure', hasH1 && headings.length > 0, 'Page should have h1 and proper heading hierarchy');
            
            // Test 4: Check for form labels
            const inputs = document.querySelectorAll('input:not([type="hidden"])');
            let allInputsLabeled = true;
            inputs.forEach(input => {
                const hasLabel = document.querySelector(`label[for="${input.id}"]`) || 
                               input.closest('label') || 
                               input.hasAttribute('aria-label');
                if (!hasLabel) allInputsLabeled = false;
            });
            addTestResult(results, 'All inputs have labels', allInputsLabeled, 'All form inputs should have associated labels');
            
            // Test 5: Check for ARIA attributes
            const ariaElements = document.querySelectorAll('[aria-label], [aria-labelledby], [role]');
            addTestResult(results, 'ARIA attributes present', ariaElements.length > 0, 'Page uses ARIA attributes for accessibility');
        }
        
        function testKeyboardNavigation() {
            const results = document.getElementById('test-results');
            results.innerHTML = '<h3>Keyboard Navigation Test:</h3>';
            
            const focusableElements = document.querySelectorAll(
                'a[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
            
            addTestResult(results, `Found ${focusableElements.length} focusable elements`, true, 'Elements that should be keyboard accessible');
            
            // Check for positive tabindex (anti-pattern)
            const positiveTabindex = document.querySelectorAll('[tabindex]:not([tabindex="0"]):not([tabindex="-1"])');
            addTestResult(results, 'No positive tabindex values', positiveTabindex.length === 0, 'Positive tabindex values should be avoided');
            
            addTestResult(results, 'Manual test required', null, 'Press Tab to navigate through all interactive elements');
        }
        
        function testScreenReader() {
            const results = document.getElementById('test-results');
            results.innerHTML = '<h3>Screen Reader Test:</h3>';
            
            // Check for images without alt text
            const images = document.querySelectorAll('img');
            let allImagesHaveAlt = true;
            images.forEach(img => {
                if (!img.alt && !img.hasAttribute('aria-hidden')) {
                    allImagesHaveAlt = false;
                }
            });
            addTestResult(results, 'All images have alt text', allImagesHaveAlt, 'Images should have alt attributes or be marked as decorative');
            
            // Check for live regions
            const liveRegions = document.querySelectorAll('[aria-live]');
            addTestResult(results, 'Live regions present', liveRegions.length > 0, 'Dynamic content should use aria-live regions');
            
            addTestResult(results, 'Screen reader test required', null, 'Test with NVDA, JAWS, or VoiceOver');
        }
        
        function testColorContrast() {
            const results = document.getElementById('test-results');
            results.innerHTML = '<h3>Color Contrast Test:</h3>';
            
            addTestResult(results, 'Manual contrast check required', null, 'Use tools like WebAIM Contrast Checker');
            addTestResult(results, 'Check text on backgrounds', null, 'Ensure 4.5:1 ratio for normal text, 3:1 for large text');
            addTestResult(results, 'Check interactive elements', null, 'Buttons, links, and form controls need sufficient contrast');
        }
        
        function addTestResult(container, testName, passed, description) {
            const div = document.createElement('div');
            div.className = `test-result ${passed === true ? 'pass' : passed === false ? 'fail' : 'info'}`;
            
            let status = '';
            if (passed === true) status = '✅ PASS';
            else if (passed === false) status = '❌ FAIL';
            else status = 'ℹ️ INFO';
            
            div.innerHTML = `<strong>${status}: ${testName}</strong><br>${description}`;
            container.appendChild(div);
        }
        
        // Auto-run basic tests when page loads
        window.addEventListener('load', () => {
            setTimeout(runAllTests, 500);
        });
    </script>
</body>
</html>
